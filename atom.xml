<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://heshiyingx.github.io</id>
    <title>çƒ‚ç¬”å¤´</title>
    <updated>2021-02-05T15:45:21.554Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://heshiyingx.github.io"/>
    <link rel="self" href="https://heshiyingx.github.io/atom.xml"/>
    <subtitle>æ¸©æ•…è€ŒçŸ¥æ–°</subtitle>
    <logo>https://heshiyingx.github.io/images/avatar.png</logo>
    <icon>https://heshiyingx.github.io/favicon.ico</icon>
    <rights>All rights reserved 2021, çƒ‚ç¬”å¤´</rights>
    <entry>
        <title type="html"><![CDATA[JetBrains å¼€å‘IDE 2020.4 ä»¥ä¸‹ç‰ˆæœ¬æœ€æ–°å…¨å®¶æ¡¶ç³»åˆ—äº§å“æ¿€æ´»ç ´è§£æ–¹æ³•]]></title>
        <id>https://heshiyingx.github.io/post/jetbrains-kai-fa-ide-20204-yi-xia-ban-ben-zui-xin-quan-jia-tong-xi-lie-chan-pin-ji-huo-po-jie-fang-fa/</id>
        <link href="https://heshiyingx.github.io/post/jetbrains-kai-fa-ide-20204-yi-xia-ban-ben-zui-xin-quan-jia-tong-xi-lie-chan-pin-ji-huo-po-jie-fang-fa/">
        </link>
        <updated>2021-02-05T13:24:51.000Z</updated>
        <summary type="html"><![CDATA[<p><a href="https://www.macfz.com/a/Jetbrainscrack.html">è½¬è½½äº</a><br>
2020-11-26æ—¥æ›´æ–°é€šçŸ¥ï¼Œjetbrains-agentè¿™ä¸ªé¡¹ç›®åœæ­¢äº†ï¼ä½†ç°åœ¨zhile.ioå¤§ä½¬æä¾›äº†ä¸€ä¸ªæ–°çš„æ€è·¯æ–¹æ³•å¤§å®¶å¯ä»¥è¯•ä¸‹ï¼æ„Ÿè°¢zhile.ioå¤§ä½¬è¿™ä¹ˆå¤šå¹´çš„è¾›è‹¦å·¥ä½œï¼Œå¸Œæœ›å¤§å®¶ä¹Ÿèƒ½ç†è§£ï¼</p>
]]></summary>
        <content type="html"><![CDATA[<p><a href="https://www.macfz.com/a/Jetbrainscrack.html">è½¬è½½äº</a><br>
2020-11-26æ—¥æ›´æ–°é€šçŸ¥ï¼Œjetbrains-agentè¿™ä¸ªé¡¹ç›®åœæ­¢äº†ï¼ä½†ç°åœ¨zhile.ioå¤§ä½¬æä¾›äº†ä¸€ä¸ªæ–°çš„æ€è·¯æ–¹æ³•å¤§å®¶å¯ä»¥è¯•ä¸‹ï¼æ„Ÿè°¢zhile.ioå¤§ä½¬è¿™ä¹ˆå¤šå¹´çš„è¾›è‹¦å·¥ä½œï¼Œå¸Œæœ›å¤§å®¶ä¹Ÿèƒ½ç†è§£ï¼</p>
<!-- more -->
<h1 id="0x0-é¡¹ç›®èƒŒæ™¯">0x0. é¡¹ç›®èƒŒæ™¯</h1>
<p>Jetbrainså®¶çš„äº§å“æœ‰ä¸€ä¸ªå¾ˆè‰¯å¿ƒçš„åœ°æ–¹ï¼Œä»–ä¼šå…è®¸ä½ è¯•ç”¨30å¤©ï¼ˆè¿™ä¸ªæ•°å­—å†™æ­»åœ¨ä»£ç é‡Œäº†ï¼‰ä»¥è¯„ä¼°æ˜¯å¦ä½ çœŸçš„éœ€è¦ä¸ºå®ƒè€Œä»˜è´¹ã€‚<br>
ä½†å¾ˆå¤šæ—¶å€™ä¼šå‡ºç°ä¸€ç§æƒ…å†µï¼šIDEå¹¶ä¸èƒ½æŒ‰ç…§æˆ‘ä»¬å®é™…çš„è¯•ç”¨æ—¶é—´æ¥è®¡ç®—ã€‚<br>
æˆ‘ä¸¾ä¸ªä¾‹å­ï¼šå¦‚æœæˆ‘ä»¬å¼€å§‹äº†è¯•ç”¨ï¼Œç„¶ååª³å¦‡ç”Ÿå­©å­è¦ä½ å›å»é™ªäº§ï¼é™ªäº§æ—¶æˆ‘ä»¬å¹¶æ— ç©ºé—²å¯¹IDEè¯•ç”¨è¯„ä¼°ï¼Œå®ƒä¾æ—§ç®—è¯•ç”¨æ—¶é—´ã€‚ï¼ˆåªæ˜¯ä¸¾ä¸ªä¾‹å­ï¼Œæˆ–è®¸ä½ å¹¶æ²¡æœ‰å¥³æœ‹å‹ï¼‰<br>
å‘ç°äº†å—ï¼Ÿä½ æœªèƒ½çœŸçš„æœ‰30å¤©æ¥å¯¹å®ƒè¿›è¡Œå…¨é¢çš„è¯•ç”¨è¯„ä¼°ï¼Œä½ ç”šè‡³æ— æ³•ä½œå‡ºæ˜¯å¦ä»˜è´¹çš„å†³å®šã€‚æ­¤æ—¶ä½ ä¼šæƒ³è¦å»¶é•¿è¯•ç”¨æ—¶é—´ï¼Œç„¶è€ŒJetbrainså¹¶æœªæä¾›ç›¸å…³åŠŸèƒ½ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ</p>
<p>äº‹å®ä¸Šæœ‰ä¸€æ¬¾æ’ä»¶å¯ä»¥å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œä½ æˆ–è®¸å¯ä»¥ç”¨å®ƒæ¥é‡ç½®ä¸€ä¸‹è¯•ç”¨æ—¶é—´ã€‚ä½†åˆ‡è®°ä¸è¦æ— ä¼‘æ­¢çš„ä¸€ç›´è¯•ç”¨ï¼Œè¿™å¹¶ä¸æ˜¯è¿™ä¸ªæ’ä»¶çš„æœ¬æ„ï¼</p>
<h1 id="0x1-å¦‚ä½•å®‰è£…">0x1. å¦‚ä½•å®‰è£…</h1>
<ul>
<li>1). æ’ä»¶å¸‚åœºå®‰è£…ï¼š<br>
åœ¨Settings/Preferences... -&gt; Plugins å†…æ‰‹åŠ¨æ·»åŠ ç¬¬ä¸‰æ–¹æ’ä»¶ä»“åº“åœ°å€ï¼šhttps://plugins.zhile.io<br>
æœç´¢ï¼šIDE Eval Resetæ’ä»¶è¿›è¡Œå®‰è£…ã€‚å¦‚æœæœç´¢ä¸åˆ°è¯·æ³¨æ„æ˜¯å¦åšå¥½äº†ä¸Šä¸€æ­¥ï¼Ÿç½‘ç»œæ˜¯å¦é€šç•…ï¼Ÿ<br>
æ’ä»¶ä¼šæç¤ºå®‰è£…æˆåŠŸã€‚</li>
<li>2). ä¸‹è½½å®‰è£…ï¼š<br>
<a href="https://www.macfz.com/a/IDEeval.html">ç‚¹å‡»è¿™ä¸ªé“¾æ¥</a>(v2.1.6)ä¸‹è½½æ’ä»¶çš„zipåŒ…ï¼ˆmacOSå¯èƒ½ä¼šè‡ªåŠ¨è§£å‹ï¼Œç„¶åæŠŠzipåŒ…ä¸¢è¿›å›æ”¶ç«™ï¼‰<br>
é€šå¸¸å¯ä»¥ç›´æ¥æŠŠzipåŒ…æ‹–è¿›IDEçš„çª—å£æ¥è¿›è¡Œæ’ä»¶çš„å®‰è£…ã€‚å¦‚æœæ— æ³•æ‹–åŠ¨å®‰è£…ï¼Œä½ å¯ä»¥åœ¨Settings/Preferences... -&gt; Plugins é‡Œæ‰‹åŠ¨å®‰è£…æ’ä»¶ï¼ˆInstall Plugin From Disk...ï¼‰<br>
æ’ä»¶ä¼šæç¤ºå®‰è£…æˆåŠŸã€‚</li>
</ul>
<h1 id="0x2-å¦‚ä½•ä½¿ç”¨">0x2. å¦‚ä½•ä½¿ç”¨</h1>
<ul>
<li>ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨IDEçª—å£åˆ‡å‡ºå»æˆ–åˆ‡å›æ¥æ—¶ï¼ˆçª—å£å¤±å»/å¾—åˆ°ç„¦ç‚¹ï¼‰ä¼šè§¦å‘äº‹ä»¶ï¼Œæ£€æµ‹æ˜¯å¦é•¿æ—¶é—´ï¼ˆ25å¤©ï¼‰æ²¡æœ‰é‡ç½®ï¼Œç»™é€šçŸ¥è®©ä½ é€‰æ‹©ã€‚ï¼ˆåˆæ¬¡å®‰è£…å› ä¸ºæ— æ³•è·å–ä¸Šæ¬¡é‡ç½®æ—¶é—´ï¼Œä¼šç›´æ¥ç»™äºˆæç¤ºï¼‰</li>
<li>ä¹Ÿå¯ä»¥æ‰‹åŠ¨å”¤å‡ºæ’ä»¶çš„ä¸»ç•Œé¢ï¼š
<ul>
<li>å¦‚æœIDEæ²¡æœ‰æ‰“å¼€é¡¹ç›®ï¼Œåœ¨Welcomeç•Œé¢ç‚¹å‡»èœå•ï¼šGet Help -&gt; Eval Reset</li>
<li>å¦‚æœIDEæ‰“å¼€äº†é¡¹ç›®ï¼Œç‚¹å‡»èœå•ï¼šHelp -&gt; Eval Reset</li>
</ul>
</li>
<li>å”¤å‡ºçš„æ’ä»¶ä¸»ç•Œé¢ä¸­åŒ…å«äº†ä¸€äº›æ˜¾ç¤ºä¿¡æ¯ï¼Œ2ä¸ªæŒ‰é’®ï¼Œ1ä¸ªå‹¾é€‰é¡¹ï¼š
<ul>
<li>æŒ‰é’®ï¼šReload ç”¨æ¥åˆ·æ–°ç•Œé¢ä¸Šçš„æ˜¾ç¤ºä¿¡æ¯ã€‚</li>
<li>æŒ‰é’®ï¼šReset ç‚¹å‡»ä¼šè¯¢é—®æ˜¯å¦é‡ç½®è¯•ç”¨ä¿¡æ¯å¹¶é‡å¯IDEã€‚é€‰æ‹©Yesåˆ™æ‰§è¡Œé‡ç½®æ“ä½œå¹¶é‡å¯IDEç”Ÿæ•ˆï¼Œé€‰æ‹©Noåˆ™ä»€ä¹ˆä¹Ÿä¸åšã€‚ï¼ˆæ­¤ä¸ºæ‰‹åŠ¨é‡ç½®æ–¹å¼ï¼‰</li>
<li>å‹¾é€‰é¡¹ï¼šAuto reset before per restart å¦‚æœå‹¾é€‰äº†ï¼Œåˆ™è‡ªå‹¾é€‰åæ¯æ¬¡é‡å¯/é€€å‡ºIDEæ—¶ä¼šè‡ªåŠ¨é‡ç½®è¯•ç”¨ä¿¡æ¯ï¼Œä½ æ— éœ€åšé¢å¤–çš„äº‹æƒ…ã€‚ï¼ˆæ­¤ä¸ºè‡ªåŠ¨é‡ç½®æ–¹å¼ï¼‰</li>
</ul>
</li>
</ul>
<h1 id="0x3-å¦‚ä½•æ›´æ–°">0x3. å¦‚ä½•æ›´æ–°</h1>
<ul>
<li>1). æ’ä»¶æ›´æ–°æœºåˆ¶ï¼ˆæ¨èï¼‰ï¼š
<ul>
<li>IDEä¼šè‡ªè¡Œæ£€æµ‹å…¶è‡ªèº«å’Œæ‰€å®‰è£…æ’ä»¶çš„æ›´æ–°å¹¶ç»™äºˆæç¤ºã€‚å¦‚æœæœ¬æ’ä»¶æœ‰æ›´æ–°ï¼Œä½ ä¼šæ”¶åˆ°æç¤ºçœ‹åˆ°æ›´æ–°æ—¥å¿—ï¼Œè‡ªè¡Œé€‰æ‹©æ˜¯å¦æ›´æ–°ã€‚</li>
<li>ç‚¹å‡»IDEçš„Check for Updates... èœå•æ‰‹åŠ¨æ£€æµ‹IDEå’Œæ‰€å®‰è£…æ’ä»¶çš„æ›´æ–°ã€‚å¦‚æœæœ¬æ’ä»¶æœ‰æ›´æ–°ï¼Œä½ ä¼šæ”¶åˆ°æç¤ºçœ‹åˆ°æ›´æ–°æ—¥å¿—ï¼Œè‡ªè¡Œé€‰æ‹©æ˜¯å¦æ›´æ–°ã€‚</li>
<li>æ’ä»¶æ›´æ–°å¯èƒ½ä¼šéœ€è¦é‡å¯IDEã€‚</li>
</ul>
</li>
<li>2). æ‰‹åŠ¨æ›´æ–°ï¼š
<ul>
<li>ä»æœ¬é¡µé¢ä¸‹è½½æœ€æ–°çš„æ’ä»¶zipåŒ…å®‰è£…æ›´æ–°ã€‚å‚è€ƒæœ¬æ–‡ï¼šä¸‹è½½å®‰è£…å°èŠ‚ã€‚</li>
<li>æ’ä»¶æ›´æ–°éœ€è¦é‡å¯IDEã€‚</li>
</ul>
</li>
</ul>
<h1 id="0x4-ä¸€äº›è¯´æ˜">0x4. ä¸€äº›è¯´æ˜</h1>
<ul>
<li>æœ¬æ’ä»¶é»˜è®¤ä¸ä¼šæ˜¾ç¤ºå…¶ä¸»ç•Œé¢ï¼Œå¦‚æœä½ éœ€è¦ï¼Œå‚è€ƒæœ¬æ–‡ï¼šå¦‚ä½•ä½¿ç”¨å°èŠ‚ã€‚</li>
<li>å¸‚åœºä»˜è´¹æ’ä»¶çš„è¯•ç”¨ä¿¡æ¯ä¹Ÿä¼šä¸€å¹¶é‡ç½®ã€‚</li>
<li>å¯¹äºæŸäº›ä»˜è´¹æ’ä»¶ï¼ˆå¦‚: Iedis 2, MinBatisï¼‰æ¥è¯´ï¼Œä½ å¯èƒ½éœ€è¦å»å–æ‰javaagenté…ç½®ï¼ˆå¦‚æœæœ‰ï¼‰åé‡å¯IDEï¼š
<ul>
<li>å¦‚æœIDEæ²¡æœ‰æ‰“å¼€é¡¹ç›®ï¼Œåœ¨Welcomeç•Œé¢ç‚¹å‡»èœå•ï¼šConfigure -&gt; Edit Custom VM Options... -&gt; ç§»é™¤ -javaagent: å¼€å¤´çš„è¡Œã€‚</li>
<li>å¦‚æœIDEæ‰“å¼€äº†é¡¹ç›®ï¼Œç‚¹å‡»èœå•ï¼šHelp -&gt; Edit Custom VM Options... -&gt; ç§»é™¤ -javaagent: å¼€å¤´çš„è¡Œã€‚</li>
<li>é‡ç½®éœ€è¦é‡å¯IDEç”Ÿæ•ˆï¼</li>
<li>é‡ç½®åå¹¶ä¸å¼¹å‡ºLicenseså¯¹è¯æ¡†è®©ä½ é€‰æ‹©è¾“å…¥Licenseæˆ–è¯•ç”¨ï¼Œè¿™å’Œä¹‹å‰çš„é‡ç½®è„šæœ¬/æ’ä»¶ä¸åŒï¼ˆçœå»è¿™çƒ¦äººçš„ä¸€æ­¥ï¼‰ã€‚</li>
<li>å¦‚æœé•¿è¾¾25å¤©ä¸æ›¾æœ‰ä»»ä½•é‡ç½®åŠ¨ä½œï¼ŒIDEä¼šæœ‰é€šçŸ¥è¯¢é—®ä½ æ˜¯å¦è¿›è¡Œé‡ç½®ã€‚</li>
<li>å¦‚æœå‹¾é€‰ï¼šAuto reset before per restart ï¼Œé‡ç½®æ˜¯é™é»˜æ— æ„ŸçŸ¥çš„ã€‚</li>
<li>ç®€å•æ¥è¯´ï¼šå‹¾é€‰äº†Auto reset before per restartåˆ™æ— éœ€å†ç®¡ï¼Œä¸€åŠ³æ°¸é€¸ã€‚</li>
</ul>
</li>
</ul>
<h1 id="0x5-å¼€æºä¿¡æ¯">0x5. å¼€æºä¿¡æ¯</h1>
<ul>
<li>æ’ä»¶æ˜¯å­¦ä¹ ç ”ç©¶é¡¹ç›®ï¼Œæºä»£ç æ˜¯å¼€æ”¾çš„ã€‚æºç ä»“åº“åœ°å€ï¼š<a href="https://gitee.com/pengzhile/ide-eval-resetter">Gitee</a>ã€‚</li>
<li>å¦‚æœä½ æœ‰æ›´å¥½çš„æƒ³æ³•ï¼Œæ¬¢è¿ç»™æˆ‘æPull Requestæ¥å…±åŒç ”ç©¶å®Œå–„ã€‚</li>
<li>æ’ä»¶æºç ä½¿ç”¨ï¼šGPL-2.0å¼€æºåè®®å‘å¸ƒã€‚</li>
<li>æ’ä»¶ä½¿ç”¨PHPç¼–å†™ï¼Œæ¯•ç«ŸPHPæ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„ç¼–ç¨‹è¯­è¨€ï¼</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[01.ç¯å¢ƒå®‰è£…]]></title>
        <id>https://heshiyingx.github.io/post/huan-jing-an-zhuang/</id>
        <link href="https://heshiyingx.github.io/post/huan-jing-an-zhuang/">
        </link>
        <updated>2020-12-10T15:40:03.000Z</updated>
        <summary type="html"><![CDATA[<p>åŸºç¡€é˜¶æ®µçš„ç¯å¢ƒæ­å»ºã€‚è™šæ‹Ÿç¯å¢ƒçš„æ­å»ºä»¥åŠåŸºç¡€é˜¶æ®µå¸¸ç”¨çš„åŒ…çš„å®‰è£…ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>åŸºç¡€é˜¶æ®µçš„ç¯å¢ƒæ­å»ºã€‚è™šæ‹Ÿç¯å¢ƒçš„æ­å»ºä»¥åŠåŸºç¡€é˜¶æ®µå¸¸ç”¨çš„åŒ…çš„å®‰è£…ã€‚</p>
<!-- more -->
<h1 id="1è™šæ‹Ÿç¯å¢ƒvirtualenvå®‰è£…">1.ğŸ¡è™šæ‹Ÿç¯å¢ƒvirtualenvå®‰è£…</h1>
<p>python çš„è™šæ‹Ÿç¯å¢ƒå¯ä»¥ä¸ºä¸€ä¸ª python é¡¹ç›®æä¾›ç‹¬ç«‹çš„è§£é‡Šç¯å¢ƒã€ä¾èµ–åŒ…ç­‰èµ„æºï¼Œæ—¢èƒ½å¤Ÿå¾ˆå¥½çš„éš”ç¦»ä¸åŒé¡¹ç›®ä½¿ç”¨ä¸åŒ python ç‰ˆæœ¬å¸¦æ¥çš„å†²çªï¼Œè€Œä¸”è¿˜èƒ½æ–¹ä¾¿é¡¹ç›®çš„å‘å¸ƒã€‚</p>
<p>virtualenvå¯ç”¨äºåˆ›å»ºç‹¬ç«‹çš„ Python ç¯å¢ƒï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªåŒ…å«é¡¹ç›®æ‰€å¿…é¡»è¦çš„æ‰§è¡Œæ–‡ä»¶ã€‚</p>
<h2 id="11-å®‰è£…virtualenv">1.1 å®‰è£…virtualenv</h2>
<pre><code class="language-python">sudo pip3 install virtualenv
# é…ç½® pip å®‰è£…ç¬¬ä¸‰æ–¹åº“çš„é•œåƒæºåœ°å€
sudo pip install -i https://pypi.douban.com/simple virtualenv
# æŸ¥çœ‹ç‰ˆæœ¬
virtualenv --version
</code></pre>
<h2 id="12-virtualenvä½¿ç”¨æ–¹æ³•">1.2 virtualenvä½¿ç”¨æ–¹æ³•</h2>
<p>å¦‚ä¸‹å‘½ä»¤è¡¨ç¤ºåœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåå« env çš„ç›®å½•ï¼ˆè™šæ‹Ÿç¯å¢ƒï¼‰ï¼Œè¯¥ç›®å½•ä¸‹åŒ…å«äº†ç‹¬ç«‹çš„ Python è¿è¡Œç¨‹åº,ä»¥åŠ pipå‰¯æœ¬ç”¨äºå®‰è£…å…¶ä»–çš„ packge</p>
<pre><code class="language-python"># å½“å‰ç›®å½•åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
virtualenv [è™šæ‹Ÿç¯å¢ƒåç§°]
# åˆ›å»º env çš„æ—¶å€™å¯ä»¥é€‰æ‹© Python è§£é‡Šå™¨ï¼Œä¾‹å¦‚ï¼š
virtualenv -p /usr/local/bin/python3 [è™šæ‹Ÿç¯å¢ƒåç§°]
</code></pre>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œè™šæ‹Ÿç¯å¢ƒä¼šä¾èµ–ç³»ç»Ÿç¯å¢ƒä¸­çš„ site packagesï¼Œå°±æ˜¯è¯´ç³»ç»Ÿä¸­å·²ç»å®‰è£…å¥½çš„ç¬¬ä¸‰æ–¹ package ä¹Ÿä¼šå®‰è£…åœ¨è™šæ‹Ÿç¯å¢ƒä¸­ï¼Œå¦‚æœä¸æƒ³ä¾èµ–è¿™äº› packageï¼Œé‚£ä¹ˆå¯ä»¥åŠ ä¸Šå‚æ•° --no-site-packages å»ºç«‹è™šæ‹Ÿç¯å¢ƒ</p>
<pre><code class="language-python"># åˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒä¸åŒ…å«ç³»ç»Ÿç¯å¢ƒä¸­çš„site packages
virtualenv --no-site-packages [è™šæ‹Ÿç¯å¢ƒåç§°]
</code></pre>
<p><strong>å¯åŠ¨è™šæ‹Ÿç¯å¢ƒ</strong></p>
<pre><code class="language-python">cd  [è™šæ‹Ÿç¯å¢ƒåç§°]
source ./bin/activate
</code></pre>
<p><strong>é€€å‡ºè™šæ‹Ÿç¯å¢ƒ</strong></p>
<pre><code class="language-python">deactivate
</code></pre>
<p><strong>åœ¨è™šæ‹Ÿç¯å¢ƒå®‰è£… Python packages</strong><br>
Virtualenv é™„å¸¦æœ‰ pip å®‰è£…å·¥å…·ï¼Œå› æ­¤éœ€è¦å®‰è£…çš„ packages å¯ä»¥ç›´æ¥è¿è¡Œï¼š</p>
<pre><code class="language-python">pip install [å¥—ä»¶åç§°]
</code></pre>
<h2 id="13-virtualenvwrapper">1.3 Virtualenvwrapper</h2>
<p>Virtualenvwrapper æ˜¯ä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒç®¡ç†å·¥å…·ï¼Œå®ƒèƒ½å¤Ÿç®¡ç†åˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒçš„ä½ç½®ï¼Œå¹¶èƒ½å¤Ÿæ–¹ä¾¿åœ°æŸ¥çœ‹è™šæ‹Ÿç¯å¢ƒçš„åç§°ä»¥åŠåˆ‡æ¢åˆ°æŒ‡å®šçš„è™šæ‹Ÿç¯å¢ƒã€‚</p>
<p><strong>å®‰è£…ï¼ˆç¡®ä¿virtualenvå·²ç»å®‰è£…ï¼‰</strong><br>
å®‰è£…éœ€è¦åœ¨éè™šæ‹Ÿç¯å¢ƒä¸‹è¿›è¡Œ</p>
<pre><code class="language-python">sudo pip install virtualenvwrapper
# æˆ–è€…ä½¿ç”¨è±†ç“£æº
sudo pip install -i https://pypi.douban.com/simple virtualenvwrapper
</code></pre>
<p><strong>æŸ¥æ‰¾virtualenvwrapper.sh</strong></p>
<pre><code class="language-python">which virtualenvwrapper.sh
</code></pre>
<blockquote>
<p>æˆ‘çš„æœºå™¨ä¸Šçš„ä½ç½®æ˜¯ï¼š/Library/Frameworks/Python.framework/Versions/3.4/bin/virtualenvwrapper.sh</p>
</blockquote>
<p><strong>ä¿®æ”¹.bash_profile</strong><br>
æ‰“å¼€/Users/ç”¨æˆ·å/.bash_profile ï¼Œåœ¨æœ€ååŠ å…¥ï¼š</p>
<pre><code class="language-bash">export WORKON_HOME=$HOME/.virtualenvs
export VIRTUALENVWRAPPER_SCRIPT=/Library/Frameworks/Python.framework/Versions/3.4/bin/virtualenvwrapper.sh
export VIRTUALENVWRAPPER_PYTHON=/Library/Frameworks/Python.framework/Versions/3.4/bin/python3
export VIRTUALENVWRAPPER_VIRTUALENV=/Library/Frameworks/Python.framework/Versions/3.4/bin/virtualenv
export VIRTUALENVWRAPPER_VIRTUALENV_ARGS='--no-site-packages'
source /Library/Frameworks/Python.framework/Versions/3.4/bin/virtualenvwrapper.sh
</code></pre>
<h2 id="14-virtualenvwrapperçš„ä½¿ç”¨">1.4 Virtualenvwrapperçš„ä½¿ç”¨</h2>
<p><strong>åˆ›å»ºè™šæ‹Ÿæœº</strong></p>
<pre><code class="language-python">mkvirtualenv [è™šæ‹Ÿç¯å¢ƒåç§°]
# å½“ç„¶ä¹Ÿå¯ä»¥æŒ‡å®šè™šæ‹Ÿæœºçš„ python ç‰ˆæœ¬
mkvirtualenv [è™šæ‹Ÿç¯å¢ƒåç§°] -p /usr/local/bin/python3 
</code></pre>
<p><strong>åˆ—å‡ºè™šæ‹Ÿç¯å¢ƒåˆ—è¡¨</strong></p>
<pre><code class="language-bash">workon æˆ–è€… lsvirtualenv
</code></pre>
<p><strong>å¯åŠ¨/åˆ‡æ¢è™šæ‹Ÿç¯å¢ƒ</strong></p>
<pre><code class="language-bash">workon [è™šæ‹Ÿç¯å¢ƒåç§°]
</code></pre>
<p><strong>åˆ é™¤è™šæ‹Ÿç¯å¢ƒ</strong></p>
<pre><code class="language-bash">rmvirtualenv [è™šæ‹Ÿç¯å¢ƒåç§°]
</code></pre>
<p><strong>ç¦»å¼€è™šæ‹Ÿç¯å¢ƒï¼Œå’Œ virutalenv ä¸€æ ·çš„å‘½ä»¤</strong></p>
<pre><code class="language-bash">deactivate
</code></pre>
<h1 id="2æœºå™¨å­¦ä¹ åŸºç¡€é˜¶æ®µçš„ç¯å¢ƒæ­å»º">2.æœºå™¨å­¦ä¹ åŸºç¡€é˜¶æ®µçš„ç¯å¢ƒæ­å»º</h1>
<p>æ•´ä¸ªæœºå™¨å­¦ä¹ åŸºç¡€é˜¶æ®µä¼šç”¨åˆ°Matplotlibã€Numpyã€Pandasç­‰åº“ï¼Œä¸ºäº†ç»Ÿä¸€ç‰ˆæœ¬å·åœ¨ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œå°†æ‰€æœ‰çš„åº“åŠå…¶ç‰ˆæœ¬æ”¾åˆ°äº†æ–‡ä»¶requirements.txtå½“ä¸­ï¼Œç„¶åç»Ÿä¸€å®‰è£…</p>
<p><strong>æ–°å»ºä¸€ä¸ªç”¨äºäººå·¥æ™ºèƒ½ç¯å¢ƒçš„è™šæ‹Ÿç¯å¢ƒ</strong></p>
<pre><code class="language-bash">mkvirtualenv ai_base
</code></pre>
<p>requirements.txt çš„å†…å®¹</p>
<pre><code class="language-bash">matplotlib==2.2.2
numpy==1.16.5
pandas==1.2.1
tables==3.6.1
jupyter==1.0.0
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[02.matplotlibçš„ä½¿ç”¨]]></title>
        <id>https://heshiyingx.github.io/post/02jupyter-notebook-de-shi-yong/</id>
        <link href="https://heshiyingx.github.io/post/02jupyter-notebook-de-shi-yong/">
        </link>
        <updated>2020-12-10T14:23:22.000Z</updated>
        <summary type="html"><![CDATA[<p>matplotlib.pyplotæ˜¯ä½¿matplotlibåƒMATLABä¸€æ ·å·¥ä½œçš„å‡½æ•°çš„é›†åˆã€‚æ¯ä¸ªpyplotåŠŸèƒ½éƒ½ä¼šå¯¹å›¾å½¢è¿›è¡Œä¸€äº›æ›´æ”¹ï¼šä¾‹å¦‚ï¼Œåˆ›å»ºå›¾å½¢ï¼Œåœ¨å›¾å½¢ä¸­åˆ›å»ºç»˜å›¾åŒºåŸŸï¼Œåœ¨ç»˜å›¾åŒºåŸŸä¸­ç»˜åˆ¶ä¸€äº›çº¿æ¡ï¼Œç”¨æ ‡ç­¾è£…é¥°ç»˜å›¾ç­‰ã€‚</p>
<p>åœ¨matplotlib.pyplotå„ç§çŠ¶æ€ä¸‹ï¼Œå‡½æ•°è°ƒç”¨ä¹‹é—´ä¼šä¿ç•™åœ¨ä¸€èµ·ï¼Œä»¥ä¾¿è·Ÿè¸ªå½“å‰å›¾å½¢å’Œç»˜å›¾åŒºåŸŸä¹‹ç±»çš„å†…å®¹ï¼Œå¹¶ä¸”ç»˜å›¾åŠŸèƒ½æŒ‡å‘å½“å‰è½´ï¼ˆè¯·æ³¨æ„ï¼Œæ­¤å¤„å’Œæ–‡æ¡£ä¸­å¤§å¤šæ•°åœ°æ–¹çš„â€œè½´â€æ˜¯æŒ‡åˆ°è½´ çš„å›¾å½¢çš„éƒ¨åˆ† å’Œä¸è¶…è¿‡ä¸€ä¸ªè½´çº¿çš„ä¸¥æ ¼çš„æ•°å­¦æœ¯è¯­ï¼‰ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>matplotlib.pyplotæ˜¯ä½¿matplotlibåƒMATLABä¸€æ ·å·¥ä½œçš„å‡½æ•°çš„é›†åˆã€‚æ¯ä¸ªpyplotåŠŸèƒ½éƒ½ä¼šå¯¹å›¾å½¢è¿›è¡Œä¸€äº›æ›´æ”¹ï¼šä¾‹å¦‚ï¼Œåˆ›å»ºå›¾å½¢ï¼Œåœ¨å›¾å½¢ä¸­åˆ›å»ºç»˜å›¾åŒºåŸŸï¼Œåœ¨ç»˜å›¾åŒºåŸŸä¸­ç»˜åˆ¶ä¸€äº›çº¿æ¡ï¼Œç”¨æ ‡ç­¾è£…é¥°ç»˜å›¾ç­‰ã€‚</p>
<p>åœ¨matplotlib.pyplotå„ç§çŠ¶æ€ä¸‹ï¼Œå‡½æ•°è°ƒç”¨ä¹‹é—´ä¼šä¿ç•™åœ¨ä¸€èµ·ï¼Œä»¥ä¾¿è·Ÿè¸ªå½“å‰å›¾å½¢å’Œç»˜å›¾åŒºåŸŸä¹‹ç±»çš„å†…å®¹ï¼Œå¹¶ä¸”ç»˜å›¾åŠŸèƒ½æŒ‡å‘å½“å‰è½´ï¼ˆè¯·æ³¨æ„ï¼Œæ­¤å¤„å’Œæ–‡æ¡£ä¸­å¤§å¤šæ•°åœ°æ–¹çš„â€œè½´â€æ˜¯æŒ‡åˆ°è½´ çš„å›¾å½¢çš„éƒ¨åˆ† å’Œä¸è¶…è¿‡ä¸€ä¸ªè½´çº¿çš„ä¸¥æ ¼çš„æ•°å­¦æœ¯è¯­ï¼‰ã€‚</p>
<!-- more -->
<h1 id="1ä¸­æ–‡æ˜¾ç¤ºé—®é¢˜è§£å†³">1.ä¸­æ–‡æ˜¾ç¤ºé—®é¢˜è§£å†³</h1>
<p>åœ¨Pythonè„šæœ¬ä¸­åŠ¨æ€è®¾ç½®matplotlibrc,è¿™æ ·ä¹Ÿå¯ä»¥é¿å…ç”±äºæ›´æ”¹é…ç½®æ–‡ä»¶è€Œé€ æˆçš„éº»çƒ¦ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-python">from pylab import mpl
# è®¾ç½®æ˜¾ç¤ºä¸­æ–‡å­—ä½“
mpl.rcParams[&quot;font.sans-serif&quot;] = [&quot;SimHei&quot;]
</code></pre>
<p>æœ‰æ—¶å€™ï¼Œå­—ä½“æ›´æ”¹åï¼Œä¼šå¯¼è‡´åæ ‡è½´ä¸­çš„éƒ¨åˆ†å­—ç¬¦æ— æ³•æ­£å¸¸æ˜¾ç¤ºï¼Œæ­¤æ—¶éœ€è¦æ›´æ”¹axes.unicode_minuså‚æ•°ï¼š</p>
<pre><code class="language-python"># è®¾ç½®æ­£å¸¸æ˜¾ç¤ºç¬¦å·
mpl.rcParams[&quot;axes.unicode_minus&quot;] = False
</code></pre>
<h1 id="2æŠ˜çº¿å›¾">2.æŠ˜çº¿å›¾</h1>
<pre><code class="language-python">import matplotlib.pyplot as plt
from pylab import mpl
# è®¾ç½®æ˜¾ç¤ºä¸­æ–‡å­—ä½“
mpl.rcParams[&quot;font.sans-serif&quot;] = [&quot;SimHei&quot;]
plt.plot([1, 2, 3, 4])
plt.ylabel('yè½´åå­—')
plt.show()
</code></pre>
<p><img src="https://heshiyingx.github.io/post-images/1612511389835.png" alt="" loading="lazy"><br>
ä¸ºä»€ä¹ˆxè½´çš„èŒƒå›´æ˜¯0-3ï¼Œè€Œyè½´çš„èŒƒå›´æ˜¯1-4ã€‚å¦‚æœæ‚¨å‘æä¾›å•ä¸ªåˆ—è¡¨æˆ–æ•°ç»„ plotï¼Œåˆ™matplotlibå‡å®šå®ƒæ˜¯yå€¼çš„åºåˆ—ï¼Œå¹¶è‡ªåŠ¨ä¸ºæ‚¨ç”Ÿæˆxå€¼ã€‚ç”±äºpythonèŒƒå›´ä»¥0å¼€å¤´ï¼Œå› æ­¤é»˜è®¤çš„xå‘é‡çš„é•¿åº¦ä¸yç›¸åŒï¼Œä½†ä»¥0å¼€å¤´ã€‚å› æ­¤xæ•°æ®ä¸º ã€‚[0, 1, 2, 3]</p>
<p>plotæ˜¯ä¸€ç§å¤šåŠŸèƒ½å‡½æ•°ï¼Œå®ƒå°†æ¥å—ä»»æ„æ•°é‡çš„å‚æ•°ã€‚ä¾‹å¦‚ï¼Œè¦ç»˜åˆ¶xä¸yçš„å…³ç³»å›¾ï¼Œå¯ä»¥ç¼–å†™ï¼š</p>
<pre><code class="language-python">plt.plot([1, 2, 3, 4], [1, 4, 9, 16])
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://heshiyingx.github.io/post-images/1612525683210.png" alt="" loading="lazy"></figure>
<h2 id="21-æ ¼å¼åŒ–ç»˜å›¾æ ·å¼">2.1 æ ¼å¼åŒ–ç»˜å›¾æ ·å¼</h2>
<p>å¯¹äºæ¯å¯¹xï¼Œyå‚æ•°ï¼Œéƒ½æœ‰ä¸€ä¸ªå¯é€‰çš„ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œå®ƒæ˜¯è¡¨ç¤ºå›¾çš„é¢œè‰²å’Œçº¿æ¡ç±»å‹çš„æ ¼å¼å­—ç¬¦ä¸²ã€‚æ ¼å¼å­—ç¬¦ä¸²çš„å­—æ¯å’Œç¬¦å·æ¥è‡ªMATLABï¼Œæ‚¨å°†é¢œè‰²å­—ç¬¦ä¸²ä¸çº¿å‹å­—ç¬¦ä¸²è¿æ¥åœ¨ä¸€èµ·ã€‚é»˜è®¤æ ¼å¼å­—ç¬¦ä¸²æ˜¯â€œ b-â€ï¼Œè¿™æ˜¯ä¸€æ¡è“è‰²å®çº¿ã€‚ä¾‹å¦‚ï¼Œè¦ç”¨çº¢è‰²åœ†åœˆç»˜åˆ¶ä»¥ä¸Šå†…å®¹</p>
<pre><code class="language-python">import matplotlib.pyplot as plt
from pylab import mpl
# è®¾ç½®æ˜¾ç¤ºä¸­æ–‡å­—ä½“
mpl.rcParams[&quot;font.sans-serif&quot;] = [&quot;SimHei&quot;]
plt.plot([1, 2, 3, 4], [1, 4, 9, 16],'ro')
plt.ylabel('yè½´åå­—')
plt.axis([0, 6, 0, 20])
plt.show()
</code></pre>
<figure data-type="image" tabindex="2"><img src="https://heshiyingx.github.io/post-images/1612526412605.png" alt="" loading="lazy"></figure>
<h2 id="22-æ·»åŠ è‡ªå®šä¹‰xyçš„åˆ»åº¦">2.2 æ·»åŠ è‡ªå®šä¹‰x,yçš„åˆ»åº¦</h2>
<ul>
<li>plt.xticks(x, **kwargs)<br>
x:è¦æ˜¾ç¤ºçš„åˆ»åº¦å€¼</li>
<li>plt.yticks(y, **kwargs)<br>
y:è¦æ˜¾ç¤ºçš„åˆ»åº¦å€¼</li>
</ul>
<pre><code class="language-python">import matplotlib.pyplot as plt
import random
from pylab import mpl

# è®¾ç½®æ˜¾ç¤ºä¸­æ–‡å­—ä½“
mpl.rcParams[&quot;font.sans-serif&quot;] = [&quot;SimHei&quot;]

x = range(60)
y_shanghai = [random.uniform(10,27) for i in x]
plt.figure(figsize=(20,7),dpi=80)
plt.plot(x,y_shanghai)

# æ„é€ xè½´åˆ»åº¦æ ‡ç­¾
x_ticks_label = [&quot;11ç‚¹{}åˆ†&quot;.format(i) for i in x]
# æ„é€ yè½´åˆ»åº¦
y_ticks = range(40)

# ä¿®æ”¹x,yè½´åæ ‡çš„åˆ»åº¦æ˜¾ç¤º
plt.xticks(x[::5], x_ticks_label[::5])
plt.yticks(y_ticks[::5])

plt.show()
</code></pre>
<figure data-type="image" tabindex="3"><img src="https://heshiyingx.github.io/post-images/1612526926570.png" alt="" loading="lazy"></figure>
<h2 id="23-æ·»åŠ ç½‘æ ¼æ˜¾ç¤º">2.3 æ·»åŠ ç½‘æ ¼æ˜¾ç¤º</h2>
<p>ä¸ºäº†æ›´åŠ æ¸…æ¥šåœ°è§‚å¯Ÿå›¾å½¢å¯¹åº”çš„å€¼</p>
<pre><code class="language-python">plt.grid(True, linestyle='--', alpha=0.5)
</code></pre>
<figure data-type="image" tabindex="4"><img src="https://heshiyingx.github.io/post-images/1612529668398.png" alt="" loading="lazy"></figure>
<h2 id="24-æ·»åŠ æè¿°ä¿¡æ¯">2.4 æ·»åŠ æè¿°ä¿¡æ¯</h2>
<p>æ·»åŠ xè½´ã€yè½´æè¿°ä¿¡æ¯åŠæ ‡é¢˜</p>
<blockquote>
<p>é€šè¿‡fontsizeå‚æ•°å¯ä»¥ä¿®æ”¹å›¾åƒä¸­å­—ä½“çš„å¤§å°</p>
</blockquote>
<pre><code class="language-python">plt.xlabel(&quot;æ—¶é—´&quot;)
plt.ylabel(&quot;æ¸©åº¦&quot;)
plt.title(&quot;ä¸­åˆ11ç‚¹0åˆ†åˆ°12ç‚¹ä¹‹é—´çš„æ¸©åº¦å˜åŒ–å›¾ç¤º&quot;, fontsize=20)
</code></pre>
<figure data-type="image" tabindex="5"><img src="https://heshiyingx.github.io/post-images/1612529749219.png" alt="" loading="lazy"></figure>
<h2 id="25-å›¾åƒä¿å­˜">2.5 å›¾åƒä¿å­˜</h2>
<pre><code class="language-python"># ä¿å­˜å›¾ç‰‡åˆ°æŒ‡å®šè·¯å¾„
plt.savefig(&quot;test.png&quot;)
</code></pre>
<p>æ³¨æ„ï¼šplt.show()ä¼šé‡Šæ”¾figureèµ„æºï¼Œå¦‚æœåœ¨æ˜¾ç¤ºå›¾åƒä¹‹åä¿å­˜å›¾ç‰‡å°†åªèƒ½ä¿å­˜ç©ºå›¾ç‰‡ã€‚</p>
<p><strong>å®Œæ•´ä»£ç </strong></p>
<pre><code class="language-python">import matplotlib.pyplot as plt
import random
from pylab import mpl

# è®¾ç½®æ˜¾ç¤ºä¸­æ–‡å­—ä½“
mpl.rcParams[&quot;font.sans-serif&quot;] = [&quot;SimHei&quot;]

x = range(60)
y_shanghai = [random.uniform(10,27) for i in x]
plt.figure(figsize=(20,7),dpi=80)
plt.plot(x,y_shanghai)

# æ„é€ xè½´åˆ»åº¦æ ‡ç­¾
x_ticks_label = [&quot;11ç‚¹{}åˆ†&quot;.format(i) for i in x]
# æ„é€ yè½´åˆ»åº¦
y_ticks = range(40)

# ä¿®æ”¹x,yè½´åæ ‡çš„åˆ»åº¦æ˜¾ç¤º
plt.xticks(x[::5], x_ticks_label[::5])
plt.yticks(y_ticks[::5])
plt.grid(True, linestyle='--', alpha=0.5)
plt.xlabel(&quot;æ—¶é—´&quot;)
plt.ylabel(&quot;æ¸©åº¦&quot;)
plt.title(&quot;ä¸­åˆ11ç‚¹0åˆ†åˆ°12ç‚¹ä¹‹é—´çš„æ¸©åº¦å˜åŒ–å›¾ç¤º&quot;, fontsize=20)
plt.show()
</code></pre>
<h1 id="3-åœ¨ä¸€ä¸ªåæ ‡ç³»ä¸­ç»˜åˆ¶å¤šä¸ªå›¾åƒ">3 åœ¨ä¸€ä¸ªåæ ‡ç³»ä¸­ç»˜åˆ¶å¤šä¸ªå›¾åƒ</h1>
<h2 id="31-å¤šæ¬¡plot">3.1 å¤šæ¬¡plot</h2>
<p>éœ€æ±‚ï¼šå†æ·»åŠ ä¸€ä¸ªåŸå¸‚çš„æ¸©åº¦å˜åŒ–</p>
<p>æ”¶é›†åˆ°åŒ—äº¬å½“å¤©æ¸©åº¦å˜åŒ–æƒ…å†µï¼Œæ¸©åº¦åœ¨1åº¦åˆ°3åº¦ã€‚æ€ä¹ˆå»æ·»åŠ å¦ä¸€ä¸ªåœ¨åŒä¸€åæ ‡ç³»å½“ä¸­çš„ä¸åŒå›¾å½¢ï¼Œå…¶å®å¾ˆç®€å•åªéœ€è¦å†æ¬¡plotå³å¯ï¼Œä½†æ˜¯éœ€è¦åŒºåˆ†çº¿æ¡ï¼Œå¦‚ä¸‹æ˜¾ç¤º<br>
<img src="https://heshiyingx.github.io/post-images/1612530001960.png" alt="" loading="lazy"></p>
<pre><code class="language-python"># å¢åŠ åŒ—äº¬çš„æ¸©åº¦æ•°æ®
y_beijing = [random.uniform(1, 3) for i in x]

# ç»˜åˆ¶æŠ˜çº¿å›¾
plt.plot(x, y_shanghai)
# ä½¿ç”¨å¤šæ¬¡plotå¯ä»¥ç”»å¤šä¸ªæŠ˜çº¿
plt.plot(x, y_beijing, color='r', linestyle='--')
</code></pre>
<p>æˆ‘ä»¬ä»”ç»†è§‚å¯Ÿï¼Œç”¨åˆ°äº†ä¸¤ä¸ªæ–°çš„åœ°æ–¹ï¼Œä¸€ä¸ªæ˜¯å¯¹äºä¸åŒçš„æŠ˜çº¿å±•ç¤ºæ•ˆæœï¼Œä¸€ä¸ªæ˜¯æ·»åŠ å›¾ä¾‹ã€‚</p>
<h2 id="32-è®¾ç½®å›¾å½¢é£æ ¼">3.2 è®¾ç½®å›¾å½¢é£æ ¼</h2>
<table>
<thead>
<tr>
<th>é¢œè‰²å­—ç¬¦</th>
<th>é£æ ¼å­—ç¬¦</th>
</tr>
</thead>
<tbody>
<tr>
<td>r çº¢è‰²</td>
<td>- å®çº¿</td>
</tr>
<tr>
<td>g ç»¿è‰²</td>
<td>-- è™šçº¿</td>
</tr>
<tr>
<td>b è“è‰²</td>
<td>-. ç‚¹åˆ’çº¿</td>
</tr>
<tr>
<td>w ç™½è‰²</td>
<td>: ç‚¹è™šçº¿</td>
</tr>
<tr>
<td>c é’è‰²</td>
<td>'' ç•™ç©ºã€ç©ºæ ¼</td>
</tr>
<tr>
<td>m æ´‹çº¢</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="33-æ˜¾ç¤ºå›¾ä¾‹">3.3 æ˜¾ç¤ºå›¾ä¾‹</h2>
<p>æ³¨æ„ï¼šå¦‚æœåªåœ¨plt.plot()ä¸­è®¾ç½®labelè¿˜ä¸èƒ½æœ€ç»ˆæ˜¾ç¤ºå‡ºå›¾ä¾‹ï¼Œè¿˜éœ€è¦é€šè¿‡plt.legend()å°†å›¾ä¾‹æ˜¾ç¤ºå‡ºæ¥ã€‚</p>
<pre><code class="language-python"># ç»˜åˆ¶æŠ˜çº¿å›¾
plt.plot(x, y_shanghai, label=&quot;ä¸Šæµ·&quot;)
# ä½¿ç”¨å¤šæ¬¡plotå¯ä»¥ç”»å¤šä¸ªæŠ˜çº¿
plt.plot(x, y_beijing, color='r', linestyle='--', label=&quot;åŒ—äº¬&quot;)

# æ˜¾ç¤ºå›¾ä¾‹
plt.legend(loc=&quot;best&quot;)
</code></pre>
<table>
<thead>
<tr>
<th>Location String</th>
<th>Location Code</th>
</tr>
</thead>
<tbody>
<tr>
<td>'best'</td>
<td>0</td>
</tr>
<tr>
<td>'upper right'</td>
<td>1</td>
</tr>
<tr>
<td>'upper left'</td>
<td>2</td>
</tr>
<tr>
<td>'lower left'</td>
<td>3</td>
</tr>
<tr>
<td>'lower right'</td>
<td>4</td>
</tr>
<tr>
<td>'right'</td>
<td>5</td>
</tr>
<tr>
<td>'center left'</td>
<td>6</td>
</tr>
<tr>
<td>'center right'</td>
<td>7</td>
</tr>
<tr>
<td>'lower center'</td>
<td>8</td>
</tr>
<tr>
<td>'upper center'</td>
<td>9</td>
</tr>
<tr>
<td>'center'</td>
<td>10</td>
</tr>
</tbody>
</table>
<p><strong>å®Œæ•´ä»£ç </strong></p>
<pre><code class="language-python"># 0.å‡†å¤‡æ•°æ®
x = range(60)
y_shanghai = [random.uniform(15, 18) for i in x]
y_beijing = [random.uniform(1,3) for i in x]

# 1.åˆ›å»ºç”»å¸ƒ
plt.figure(figsize=(20, 8), dpi=100)

# 2.ç»˜åˆ¶å›¾åƒ
plt.plot(x, y_shanghai, label=&quot;ä¸Šæµ·&quot;)
plt.plot(x, y_beijing, color=&quot;r&quot;, linestyle=&quot;--&quot;, label=&quot;åŒ—äº¬&quot;)

# 2.1 æ·»åŠ x,yè½´åˆ»åº¦
# æ„é€ x,yè½´åˆ»åº¦æ ‡ç­¾
x_ticks_label = [&quot;11ç‚¹{}åˆ†&quot;.format(i) for i in x]
y_ticks = range(40)

# åˆ»åº¦æ˜¾ç¤º
plt.xticks(x[::5], x_ticks_label[::5])
plt.yticks(y_ticks[::5])

# 2.2 æ·»åŠ ç½‘æ ¼æ˜¾ç¤º
plt.grid(True, linestyle=&quot;--&quot;, alpha=0.5)

# 2.3 æ·»åŠ æè¿°ä¿¡æ¯
plt.xlabel(&quot;æ—¶é—´&quot;)
plt.ylabel(&quot;æ¸©åº¦&quot;)
plt.title(&quot;ä¸­åˆ11ç‚¹--12ç‚¹æŸåŸå¸‚æ¸©åº¦å˜åŒ–å›¾&quot;, fontsize=20)

# 2.4 å›¾åƒä¿å­˜
plt.savefig(&quot;./test.png&quot;)

# 2.5 æ·»åŠ å›¾ä¾‹
plt.legend(loc=0)

# 3.å›¾åƒæ˜¾ç¤º
plt.show()
</code></pre>
<h1 id="4-å¤šä¸ªåæ ‡ç³»æ˜¾ç¤º-pltsubplotsé¢å‘å¯¹è±¡çš„ç”»å›¾æ–¹æ³•">4 å¤šä¸ªåæ ‡ç³»æ˜¾ç¤ºâ€” plt.subplots(é¢å‘å¯¹è±¡çš„ç”»å›¾æ–¹æ³•)</h1>
<p>å¦‚æœæˆ‘ä»¬æƒ³è¦å°†ä¸Šæµ·å’ŒåŒ—äº¬çš„å¤©æ°”å›¾æ˜¾ç¤ºåœ¨åŒä¸€ä¸ªå›¾çš„ä¸åŒåæ ‡ç³»å½“ä¸­ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š<br>
<img src="https://heshiyingx.github.io/post-images/1612530885925.png" alt="" loading="lazy"><br>
å¯ä»¥é€šè¿‡subplotså‡½æ•°å®ç°(æ—§çš„ç‰ˆæœ¬ä¸­æœ‰subplotï¼Œä½¿ç”¨èµ·æ¥ä¸æ–¹ä¾¿)ï¼Œæ¨èsubplotså‡½æ•°<br>
**matplotlib.pyplot.subplots(nrows=1, ncols=1, <strong>fig_kw) åˆ›å»ºä¸€ä¸ªå¸¦æœ‰å¤šä¸ªaxes(åæ ‡ç³»/ç»˜å›¾åŒº)çš„å›¾</strong></p>
<pre><code class="language-python">Parameters:    

nrows, ncols : è®¾ç½®æœ‰å‡ è¡Œå‡ åˆ—åæ ‡ç³»
    int, optional, default: 1, Number of rows/columns of the subplot grid.

Returns:    
fig : å›¾å¯¹è±¡
axes : è¿”å›ç›¸åº”æ•°é‡çš„åæ ‡ç³»

è®¾ç½®æ ‡é¢˜ç­‰æ–¹æ³•ä¸åŒï¼š
    set_xticks
    set_yticks
    set_xlabel
    set_ylabel
</code></pre>
<p>å…³äºaxeså­åæ ‡ç³»çš„æ›´å¤šæ–¹æ³•ï¼šå‚è€ƒhttps://matplotlib.org/api/axes_api.html#matplotlib.axes.Axes</p>
<p>æ³¨æ„ï¼šplt.å‡½æ•°å()ç›¸å½“äºé¢å‘è¿‡ç¨‹çš„ç”»å›¾æ–¹æ³•ï¼Œaxes.set_æ–¹æ³•å()ç›¸å½“äºé¢å‘å¯¹è±¡çš„ç”»å›¾æ–¹æ³•ã€‚</p>
<p><strong>å®Œæ•´ä»£ç </strong></p>
<pre><code class="language-python"># 0.å‡†å¤‡æ•°æ®
x = range(60)
y_shanghai = [random.uniform(15, 18) for i in x]
y_beijing = [random.uniform(1, 5) for i in x]

# 1.åˆ›å»ºç”»å¸ƒ
# plt.figure(figsize=(20, 8), dpi=100)
fig, axes = plt.subplots(nrows=1, ncols=2, figsize=(20, 8), dpi=100)


# 2.ç»˜åˆ¶å›¾åƒ
# plt.plot(x, y_shanghai, label=&quot;ä¸Šæµ·&quot;)
# plt.plot(x, y_beijing, color=&quot;r&quot;, linestyle=&quot;--&quot;, label=&quot;åŒ—äº¬&quot;)
axes[0].plot(x, y_shanghai, label=&quot;ä¸Šæµ·&quot;)
axes[1].plot(x, y_beijing, color=&quot;r&quot;, linestyle=&quot;--&quot;, label=&quot;åŒ—äº¬&quot;)

# 2.1 æ·»åŠ x,yè½´åˆ»åº¦
# æ„é€ x,yè½´åˆ»åº¦æ ‡ç­¾
x_ticks_label = [&quot;11ç‚¹{}åˆ†&quot;.format(i) for i in x]
y_ticks = range(40)

# åˆ»åº¦æ˜¾ç¤º
# plt.xticks(x[::5], x_ticks_label[::5])
# plt.yticks(y_ticks[::5])
axes[0].set_xticks(x[::5])
axes[0].set_yticks(y_ticks[::5])
axes[0].set_xticklabels(x_ticks_label[::5])
axes[1].set_xticks(x[::5])
axes[1].set_yticks(y_ticks[::5])
axes[1].set_xticklabels(x_ticks_label[::5])

# 2.2 æ·»åŠ ç½‘æ ¼æ˜¾ç¤º
# plt.grid(True, linestyle=&quot;--&quot;, alpha=0.5)
axes[0].grid(True, linestyle=&quot;--&quot;, alpha=0.5)
axes[1].grid(True, linestyle=&quot;--&quot;, alpha=0.5)

# 2.3 æ·»åŠ æè¿°ä¿¡æ¯
# plt.xlabel(&quot;æ—¶é—´&quot;)
# plt.ylabel(&quot;æ¸©åº¦&quot;)
# plt.title(&quot;ä¸­åˆ11ç‚¹--12ç‚¹æŸåŸå¸‚æ¸©åº¦å˜åŒ–å›¾&quot;, fontsize=20)
axes[0].set_xlabel(&quot;æ—¶é—´&quot;)
axes[0].set_ylabel(&quot;æ¸©åº¦&quot;)
axes[0].set_title(&quot;ä¸­åˆ11ç‚¹--12ç‚¹æŸåŸå¸‚æ¸©åº¦å˜åŒ–å›¾&quot;, fontsize=20)
axes[1].set_xlabel(&quot;æ—¶é—´&quot;)
axes[1].set_ylabel(&quot;æ¸©åº¦&quot;)
axes[1].set_title(&quot;ä¸­åˆ11ç‚¹--12ç‚¹æŸåŸå¸‚æ¸©åº¦å˜åŒ–å›¾&quot;, fontsize=20)

# # 2.4 å›¾åƒä¿å­˜
plt.savefig(&quot;./test.png&quot;)

# # 2.5 æ·»åŠ å›¾ä¾‹
# plt.legend(loc=0)
axes[0].legend(loc=0)
axes[1].legend(loc=0)


# 3.å›¾åƒæ˜¾ç¤º
plt.show()
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hello Gridea]]></title>
        <id>https://heshiyingx.github.io/post/hello-gridea/</id>
        <link href="https://heshiyingx.github.io/post/hello-gridea/">
        </link>
        <updated>2018-12-11T16:00:00.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
<!-- more -->
<p><a href="https://github.com/getgridea/gridea">Github</a><br>
<a href="https://gridea.dev/">Gridea ä¸»é¡µ</a><br>
<a href="http://fehey.com/">ç¤ºä¾‹ç½‘ç«™</a></p>
<h2 id="ç‰¹æ€§">ç‰¹æ€§ğŸ‘‡</h2>
<p>ğŸ“  ä½ å¯ä»¥ä½¿ç”¨æœ€é…·çš„ <strong>Markdown</strong> è¯­æ³•ï¼Œè¿›è¡Œå¿«é€Ÿåˆ›ä½œ</p>
<p>ğŸŒ‰  ä½ å¯ä»¥ç»™æ–‡ç« é…ä¸Šç²¾ç¾çš„å°é¢å›¾å’Œåœ¨æ–‡ç« ä»»æ„ä½ç½®æ’å…¥å›¾ç‰‡</p>
<p>ğŸ·ï¸  ä½ å¯ä»¥å¯¹æ–‡ç« è¿›è¡Œæ ‡ç­¾åˆ†ç»„</p>
<p>ğŸ“‹  ä½ å¯ä»¥è‡ªå®šä¹‰èœå•ï¼Œç”šè‡³å¯ä»¥åˆ›å»ºå¤–éƒ¨é“¾æ¥èœå•</p>
<p>ğŸ’»  ä½ å¯ä»¥åœ¨ <strong>Windows</strong>ï¼Œ<strong>MacOS</strong> æˆ– <strong>Linux</strong> è®¾å¤‡ä¸Šä½¿ç”¨æ­¤å®¢æˆ·ç«¯</p>
<p>ğŸŒ  ä½ å¯ä»¥ä½¿ç”¨ <strong>ğ–¦ğ—‚ğ—ğ—ğ—ğ–» ğ–¯ğ–ºğ—€ğ–¾ğ—Œ</strong> æˆ– <strong>Coding Pages</strong> å‘ä¸–ç•Œå±•ç¤ºï¼Œæœªæ¥å°†æ”¯æŒæ›´å¤šå¹³å°</p>
<p>ğŸ’¬  ä½ å¯ä»¥è¿›è¡Œç®€å•çš„é…ç½®ï¼Œæ¥å…¥ <a href="https://github.com/gitalk/gitalk">Gitalk</a> æˆ– <a href="https://github.com/SukkaW/DisqusJS">DisqusJS</a> è¯„è®ºç³»ç»Ÿ</p>
<p>ğŸ‡¬ğŸ‡§  ä½ å¯ä»¥ä½¿ç”¨<strong>ä¸­æ–‡ç®€ä½“</strong>æˆ–<strong>è‹±è¯­</strong></p>
<p>ğŸŒ  ä½ å¯ä»¥ä»»æ„ä½¿ç”¨åº”ç”¨å†…é»˜è®¤ä¸»é¢˜æˆ–ä»»æ„ç¬¬ä¸‰æ–¹ä¸»é¢˜ï¼Œå¼ºå¤§çš„ä¸»é¢˜è‡ªå®šä¹‰èƒ½åŠ›</p>
<p>ğŸ–¥  ä½ å¯ä»¥è‡ªå®šä¹‰æºæ–‡ä»¶å¤¹ï¼Œåˆ©ç”¨ OneDriveã€ç™¾åº¦ç½‘ç›˜ã€iCloudã€Dropbox ç­‰è¿›è¡Œå¤šè®¾å¤‡åŒæ­¥</p>
<p>ğŸŒ± å½“ç„¶ <strong>Gridea</strong> è¿˜å¾ˆå¹´è½»ï¼Œæœ‰å¾ˆå¤šä¸è¶³ï¼Œä½†è¯·ç›¸ä¿¡ï¼Œå®ƒä¼šä¸åœå‘å‰ ğŸƒ</p>
<p>æœªæ¥ï¼Œå®ƒä¸€å®šä¼šæˆä¸ºä½ ç¦»ä¸å¼€çš„ä¼™ä¼´</p>
<p>å°½æƒ…å‘æŒ¥ä½ çš„æ‰åå§ï¼</p>
<p>ğŸ˜˜ Enjoy~</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[01.supervisorçš„ä½¿ç”¨]]></title>
        <id>https://heshiyingx.github.io/post/01supervisor-de-shi-yong/</id>
        <link href="https://heshiyingx.github.io/post/01supervisor-de-shi-yong/">
        </link>
        <updated>2016-02-03T15:37:17.000Z</updated>
        <content type="html"><![CDATA[<h1 id="1ä¸ºä»€ä¹ˆè¦ä½¿ç”¨supervisor">1.ä¸ºä»€ä¹ˆè¦ä½¿ç”¨supervisor</h1>
<p>åœ¨ç»´æŠ¤LinuxæœåŠ¡ä¸­ï¼Œæœ‰å¾ˆå¤šç¨‹åºæ˜¯æ²¡æœ‰å¯åŠ¨è„šæœ¬çš„ï¼Œå¹¶ä¸”è¿˜æ˜¯å‰å°è¿è¡Œè¿›ç¨‹å ç”¨ç€shellçª—å£ï¼Œçª—å£å…³é—­ç¨‹åºä¹Ÿå°±éšä¹‹å…³é—­ã€‚æ¯”å¦‚flaskå’ŒDjangoçš„å¯åŠ¨ç¨‹åºã€‚å¦‚æœéœ€è¦æ”¾åœ¨åå°è¿è¡Œï¼Œå¹¶ä¸”èƒ½æ–¹ä¾¿çš„é‡å¯ï¼Œå…³é—­ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<p>æˆ‘ä»¬supervisorå»ç®¡ç†è¿™äº›è¿›ç¨‹ã€‚supervisoræä¾›äº†å¦‚ä¸‹åŠŸèƒ½ã€‚</p>
<ul>
<li>å°†å‰å°è¿›ç¨‹è½¬æ¢ä¸ºåå°è¿›ç¨‹ã€‚</li>
<li>èƒ½ç›‘æ§è¿›ç¨‹çš„è¿è¡ŒçŠ¶æ€ï¼Œå¦‚è¿›ç¨‹çš„å¼‚å¸¸é€€å‡ºï¼Œsupervisoråˆ™ä¼šè‡ªåŠ¨é‡å¯è¿›ç¨‹ã€‚</li>
<li>èƒ½å¯¹æœåŠ¡æ–¹ä¾¿å¿«æ·çš„è¿›è¡Œå¯åŠ¨ã€é‡å¯ã€å…³é—­ç­‰ä¾¿æ·æ“ä½œã€‚</li>
<li>æä¾›äº†web uiç•Œé¢ï¼Œä¾¿äºç›´æ¥ä½¿ç”¨ã€‚</li>
</ul>
<h1 id="2supervisorçš„åŸºç¡€ç»„ä»¶">2.Supervisorçš„åŸºç¡€ç»„ä»¶</h1>
<ul>
<li>
<p>supervisord</p>
<p>supervisorçš„ä¸»è¿›ç¨‹ï¼Œè´Ÿè´£ç®¡ç†è¢«ç®¡ç†è¿›ç¨‹çš„æœåŠ¡ã€‚å¹¶ä¸”ç›‘æ§å…¶ä»–è¢«ç®¡ç†è¿›ç¨‹çš„çŠ¶æ€ï¼Œå¯¹äºcrashçš„è¿›ç¨‹ä¼šè‡ªåŠ¨é‡å¯</p>
</li>
<li>
<p>supervisorctl</p>
<p>æ˜¯supervisorçš„å‘½ä»¤è¡Œç®¡ç†å·¥å…·ï¼Œå¯ä»¥é€šè¿‡supervisorctlæŸ¥çœ‹è¢«ç®¡ç†è¿›ç¨‹çš„çŠ¶æ€ä»¥åŠå¯åŠ¨ï¼Œé‡å¯ï¼Œå…³é—­ç­‰æ“ä½œã€‚supervisorctlå’Œå…¶ä»–å¾ˆå¤šå‘½ä»¤è¡Œå·¥å…·ä¸€æ ·ï¼ˆå¦‚redis-cliï¼‰æ—¢å¯ä»¥è¿æ¥æœ¬åœ°çš„supervisorä¹Ÿå¯ä»¥è¿æ¥è¿œç¨‹çš„supervisorã€‚</p>
</li>
<li>
<p>web server</p>
<p>supervisoræä¾›äº†ä¸€ä¸ªwebæœåŠ¡çš„é¡µé¢ï¼Œå¯ä»¥æ–¹ä¾¿çš„åœ¨é¡µé¢è¿›è¡Œæ“ä½œã€‚</p>
</li>
<li>
<p>xml-rpc interface</p>
<p>supervisorçš„é€šè®¯åè®®ã€‚</p>
</li>
</ul>
<h1 id="3supervisorçš„å®‰è£…">3.supervisorçš„å®‰è£…</h1>
<pre><code class="language-bash">yum install epel-release -y &amp;&amp; # å®‰è£…epelæº
yum install supervisor -y # å®‰è£…supervisor
</code></pre>
<p><strong>å¯åŠ¨</strong></p>
<pre><code class="language-bash">systemctl enable supervisord # åŠ å…¥å¼€æœºè‡ªåŠ¨å¯åŠ¨
systemctl start supervisord # å¯åŠ¨supervisor
</code></pre>
<h1 id="4supervisorçš„é…ç½®è§£è¯»">4.supervisorçš„é…ç½®è§£è¯»</h1>
<p>é…ç½®æ–‡ä»¶è·¯å¾„ï¼š/etc/supervisord.conf</p>
<ul>
<li>
<p>unix_http_server (supervisorçš„unixç®¡ç†æœåŠ¡é…ç½®)</p>
<pre><code class="language-ini">[unix_http_server]
file=/var/run/supervisor/supervisor.sock   ; (the path to the socket file)
;chmod=0700                 ; sockef file mode (default 0700)
;chown=nobody:nogroup       ; socket file uid:gid owner
;username=user              ; (default is no username (open server))
;password=123               ; (default is no password (open server))
</code></pre>
</li>
<li>
<p>inet_http_server(supervisorçš„webæœåŠ¡é…ç½®)</p>
<pre><code class="language-ini">;[inet_http_server]         ; inet (TCP) server disabled by default
;port=127.0.0.1:9001        ; (ip_address:port specifier, *:port for all iface)
;username=user              ; (default is no username (open server))
;password=123               ; (default is no password (open server))
</code></pre>
</li>
<li>
<p>supervisord ï¼ˆsupervisorä¸»è¿›ç¨‹çš„é…ç½®ï¼‰</p>
<pre><code class="language-ini">[supervisord]
logfile=/var/log/supervisor/supervisord.log  ; (main log file;default $CWD/supervisord.log)
logfile_maxbytes=50MB       ; (max main logfile bytes b4 rotation;default 50MB)
logfile_backups=10          ; (num of main logfile rotation backups;default 10)
loglevel=info               ; (log level;default info; others: debug,warn,trace)
pidfile=/var/run/supervisord.pid ; (supervisord pidfile;default supervisord.pid)
nodaemon=false              ; (start in foreground if true;default false)
minfds=1024                 ; (min. avail startup file descriptors;default 1024)
minprocs=200                ; (min. avail process descriptors;default 200)
;umask=022                  ; (process file creation umask;default 022)
;user=chrism                 ; (default is current user, required if root)
;identifier=supervisor       ; (supervisord identifier, default is 'supervisor')
;directory=/tmp              ; (default is not to cd during start)
;nocleanup=true              ; (don't clean up tempfiles at start;default false)
;childlogdir=/tmp            ; ('AUTO' child log dir, default $TEMP)
;environment=KEY=value       ; (key value pairs to add to environment)
;strip_ansi=false            ; (strip ansi escape codes in logs; def. false)
</code></pre>
</li>
<li>
<p>supervisorctl(supervisorå‘½ä»¤è¡Œå·¥å…·çš„é…ç½®)</p>
<pre><code class="language-ini">[supervisorctl]
serverurl=unix:///var/run/supervisor/supervisor.sock ; use a unix:// URL  for a unix socket
;serverurl=http://127.0.0.1:9001 ; use an http:// url to specify an inet socket
;username=chris              ; should be same as http_username if set
;password=123                ; should be same as http_password if set
;prompt=mysupervisor         ; cmd line prompt (default &quot;supervisor&quot;)
;history_file=~/.sc_history  ; use readline history if available
</code></pre>
</li>
<li>
<p>program:theprogramnameï¼ˆå®šä¹‰è¦ç®¡ç†çš„è¿›ç¨‹çš„é…ç½®ï¼‰</p>
<pre><code class="language-ini">;[program:theprogramname]
;command=/bin/cat              ; the program (relative uses PATH, can take args)
;process_name=%(program_name)s ; process_name expr (default %(program_name)s)
;numprocs=1                    ; number of processes copies to start (def 1)
;directory=/tmp                ; directory to cwd to before exec (def no cwd)
;umask=022                     ; umask for process (default None)
;priority=999                  ; the relative start priority (default 999)ä¼˜å…ˆçº§ä½åˆ™å…ˆå¯åŠ¨ï¼Œåå…³é—­
;autostart=true                ; start at supervisord start (default: true)å¯åŠ¨supervisordçš„æœåŠ¡åè‡ªåŠ¨æ‹‰èµ·è¯¥è¿›ç¨‹
;autorestart=true              ; retstart at unexpected quit (default: true)å¼‚å¸¸è‡ªåŠ¨é‡å¯
;startsecs=10                  ; number of secs prog must stay running (def. 1)å¯åŠ¨åå¤šå°‘ç§’å­˜æ´»æ‰è¢«è®¤ä¸ºrunningçŠ¶æ€
;startretries=3                ; max # of serial start failures (default 3)
;exitcodes=0,2                 ; 'expected' exit codes for process (default 0,2)
;stopsignal=QUIT               ; signal used to kill process (default TERM)
;stopwaitsecs=10               ; max num secs to wait b4 SIGKILL (default 10)
;user=chrism                   ; setuid to this UNIX account to run the program
;redirect_stderr=true          ; redirect proc stderr to stdout (default false)
;stdout_logfile=/a/path        ; stdout log path, NONE for none; default AUTO
;stdout_logfile_maxbytes=1MB   ; max # logfile bytes b4 rotation (default 50MB)
;stdout_logfile_backups=10     ; # of stdout logfile backups (default 10)
;stdout_capture_maxbytes=1MB   ; number of bytes in 'capturemode' (default 0)
;stdout_events_enabled=false   ; emit events on stdout writes (default false)
;stderr_logfile=/a/path        ; stderr log path, NONE for none; default AUTO
;stderr_logfile_maxbytes=1MB   ; max # logfile bytes b4 rotation (default 50MB)
;stderr_logfile_backups=10     ; # of stderr logfile backups (default 10)
;stderr_capture_maxbytes=1MB   ; number of bytes in 'capturemode' (default 0)
;stderr_events_enabled=false   ; emit events on stderr writes (default false)
;environment=A=1,B=2           ; process environment additions (def no adds)
;serverurl=AUTO                ; override serverurl computation (childutils)
</code></pre>
</li>
<li>
<p>group:thegroupname(å°†è¢«ç®¡ç†çš„è¿›ç¨‹åˆ†ç»„)</p>
<pre><code class="language-ini">;[group:thegroupname]
;programs=progname1,progname2  ; each refers to 'x' in [program:x] definitions
;priority=999                  ; the relative start priority (default 999)

; The [include] section can just contain the &quot;files&quot; setting.  This
; setting can list multiple files (separated by whitespace or
; newlines).  It can also contain wildcards.  The filenames are
; interpreted as relative to this file.  Included files *cannot*
; include files themselves.
</code></pre>
</li>
<li>
<p>include(è¢«ç®¡ç†è¿›ç¨‹é…ç½®æ–‡ä»¶çš„ç›®å½•)</p>
<pre><code class="language-ini">[include]
files = supervisord.d/*.ini
</code></pre>
</li>
</ul>
<h1 id="5supervisorç¤ºä¾‹">5.supervisorç¤ºä¾‹</h1>
<h2 id="51supervisorç®¡ç†pythoné¡¹ç›®">5.1.supervisorç®¡ç†Pythoné¡¹ç›®</h2>
<ul>
<li>1.åˆ›å»ºDjangoå·¥ç¨‹</li>
</ul>
<pre><code class="language-bash">yum install openssl-devel bzip2-devel expat-devel gdbm-devel readline-devel sqlite-devel gcc gcc-c++ openssl-devel zlib zlib-devel python3 python3-devel -y #å®‰è£…ç»„ä»¶ä¾èµ–åŒ…

pip3 install -i https://mirrors.aliyun.com/pypi/simple/ --upgrade pip # å‡çº§pip
pip3 install -i https://mirrors.aliyun.com/pypi/simple/ django==2.1.8 # å®‰è£…Django
django-admin startproject demosite #æ–°å»ºDjangoå·¥ç¨‹
cd demosite
python3 manage.py runserver 0.0.0.0:8002
</code></pre>
<ul>
<li>2.åˆ›å»ºsupervisorçš„ç®¡ç†è¿›ç¨‹é…ç½®æ–‡ä»¶</li>
</ul>
<pre><code class="language-ini"># vim /etc/supervisord.d/demosite.ini
[program:demosite]
command=/bin/bash -c &quot;python3  manage.py runserver 0.0.0.0:8002&quot;         ; the program (relative uses PATH, can take args)
;;process_name=%(program_name)s ; process_name expr (default %(program_name)s)
;;numprocs=1                    ; number of processes copies to start (def 1)
directory=/root/demosite                ; directory to cwd to before exec (def no cwd)
;;umask=022                     ; umask for process (default None)
;;priority=999                  ; the relative start priority (default 999)ä¼˜å…ˆçº§ä½åˆ™å…ˆå¯åŠ¨ï¼Œåå…³é—­
autostart=true                ; start at supervisord start (default: true)å¯åŠ¨supervisordçš„æœåŠ¡åè‡ªåŠ¨æ‹‰èµ·è¯¥è¿›ç¨‹
autorestart=true              ; retstart at unexpected quit (default: true)å¼‚å¸¸è‡ªåŠ¨é‡å¯
startsecs=10                  ; number of secs prog must stay running (d
;;stopsignal=QUIT               ; signal used to kill process (default TERM)
;;stopwaitsecs=10               ; max num secs to wait b4 SIGKILL (default 10)
user=root                   ; setuid to this UNIX account to run the program
;;redirect_stderr=true          ; redirect proc stderr to stdout (default false)
stdout_logfile=/root/demosite/logs/std_log.log        ; stdout log path, NONE for none; default AUTO
;;stdout_logfile_maxbytes=1MB   ; max # logfile bytes b4 rotation (default 50MB)
;;stdout_logfile_backups=10     ; # of stdout logfile backups (default 10)
;;stdout_capture_maxbytes=1MB   ; number of bytes in 'capturemode' (default 0)
;;stdout_events_enabled=false   ; emit events on stdout writes (default false)
stderr_logfile=/root/demosite/logs/err_log.log        ; stderr log path, NONE for none; default AUTO
stopasgroup=true ;å¦‚æœsupervisoråœæ­¢ï¼Œåˆ™è¯¥è¿›ç¨‹ä¹Ÿstopï¼Œé¿å…æˆä¸ºå­¤å„¿è¿›ç¨‹
killasgroup=true
;;stderr_logfile_maxbytes=1MB   ; max # logfile bytes b4 rotation (default 50MB)
;;stderr_logfile_backups=10     ; # of stderr logfile backups (default 10)
;;stderr_capture_maxbytes=1MB   ; number of bytes in 'capturemode' (default 0)
;;stderr_events_enabled=false   ; emit events on stderr writes (default false)
</code></pre>
<h1 id="6supervisorctlå¸¸ç”¨å‘½ä»¤">6.supervisorctlå¸¸ç”¨å‘½ä»¤</h1>
<pre><code class="language-bash">supervisorctl status        //æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹çš„çŠ¶æ€
supervisorctl stop es       //åœæ­¢es
supervisorctl start es      //å¯åŠ¨es
supervisorctl restart       //é‡å¯es
supervisorctl update        //é…ç½®æ–‡ä»¶ä¿®æ”¹åä½¿ç”¨è¯¥å‘½ä»¤åŠ è½½æ–°çš„é…ç½®
supervisorctl reload        //é‡æ–°å¯åŠ¨é…ç½®ä¸­çš„æ‰€æœ‰ç¨‹åº
</code></pre>
]]></content>
    </entry>
</feed>